<!DOCTYPE html>
<html>
  <head>
    <title>Drashland / Sockets</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">
  </head>
  <body class="p-5">
    <div class="mb-5">Open your console and enter the following.</div>
    <pre class="mb-5"><code>socketClient.send("Channel 1", "Hello, world!");</code></pre>
    <p><strong>Messages received from the socket server:</strong></p>
    <ul id="messages"></ul>
  </body>
  <script src="https://gitcdn.link/repo/drashland/sockets/master/client.js">
  <script>

    // Create the connection between this socket client and the socket server.
    const socketClient = new SocketClient({
      hostname: "localhost",
      port: 3000
    });

    // When the socket server starts, it creates a channel named "Channel 1", so
    // we set this socket client up to listen to that channel here. Any messages
    // sent by the socket server to "Channel 1" will be handled by the callback
    // below.
    socketClient.on("Channel 1", (incomingMessage) => {
      console.log("Message received from the server: " + JSON.stringify(incomingMessage));
      const messages = document.getElementById("messages");
      const li = document.createElement("li");
      li.appendChild(document.createTextNode(incomingMessage.text));
      messages.appendChild(li);
    });
  </script>
</html>
